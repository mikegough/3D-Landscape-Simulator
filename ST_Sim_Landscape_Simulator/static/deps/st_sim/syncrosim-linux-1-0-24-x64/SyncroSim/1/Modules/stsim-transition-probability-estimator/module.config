<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <module name="stsim-transition-probability-estimator" displayName="Transition Probability Estimator" version="1.0024" configVersion="1.0000">
    <transformers>
      <transformer name="tpe-core-transformer" displayName="Transition Probability Estimator" className="SyncroSim.STSimTPE.TPECoreTransformer" classAssembly="SyncroSim.STSimTPE" runContext="LocalOnly">
        <dataFeeds>
          <dataFeed name="tpe-analysis-unit-datafeed" displayName="Analysis Unit" dataScope="Project">
            <dataSheets>
              <dataSheet name="TPE_AnalysisUnit" displayName="Analysis Unit" valueMember="AnalysisUnitID" displayMember="Name">
                <columns>
                  <column name="AnalysisUnitID" dataType="Integer" isPrimary="True"/>
                  <column name="ProjectID" dataType="Integer"/>
                  <column name="Name" dataType="String"/>
                  <column name="Description" dataType="String" isOptional="True"/>
                </columns>
              </dataSheet>
            </dataSheets>
          </dataFeed>
          <dataFeed name="tpe-indicator-datafeed" displayName="Indicator" dataScope="Project">
            <dataSheets>
              <dataSheet name="TPE_Indicator" displayName="Indicator" valueMember="IndicatorID" displayMember="Name">
                <columns>
                  <column name="IndicatorID" dataType="Integer" isPrimary="True"/>
                  <column name="ProjectID" dataType="Integer"/>
                  <column name="Name" dataType="String"/>
                  <column name="Description" dataType="String" isOptional="True"/>
                  <column name="Units" dataType="String" isOptional="True"/>
                </columns>
              </dataSheet>
            </dataSheets>
          </dataFeed>
          <dataFeed name="tpe-indicator-time-series-datafeed" displayName="Indicator Time Series" dataScope="Scenario">
            <dataSheets>
              <dataSheet name="TPE_IndicatorTimeSeries" displayName="Indicator Time Series">
                <columns>
                  <column name="IndicatorTimeSeriesID" dataType="Integer" isPrimary="True"/>
                  <column name="ScenarioID" dataType="Integer"/>
                  <column name="AnalysisUnitID" dataType="Integer" displayName="Analysis Unit" validationType="DataSheet" formula1="TPE_AnalysisUnit" allowDbNull="False"/>
                  <column name="IndicatorID" dataType="Integer" displayName="Indicator" validationType="DataSheet" formula1="TPE_Indicator" allowDbNull="False"/>
                  <column name="Replicate" dataType="Integer" allowDbNull="False" validationType="WholeNumber"/>
                  <column name="Timestep" dataType="Integer" allowDbNull="False" validationType="WholeNumber" validationCondition="GreaterEqual" formula1="0" displayNameSource="STSim_Terminology" displayNameColumn="TimestepUnits" format="d"/>
                  <column name="Value" dataType="Double" allowDbNull="False" validationType="Decimal"/>
                </columns>
              </dataSheet>
            </dataSheets>
          </dataFeed>
          <dataFeed name="tpe-transition-threshold-datafeed" displayName="Transition Threshold" dataScope="Scenario">
            <dataSheets>
              <dataSheet name="TPE_TransitionThreshold" displayName="Transition Threshold" className="SyncroSim.STSimTPE.TransitionThresholdDataSheet" classAssembly="SyncroSim.STSimTPE">
                <columns>
                  <column name="TransitionThresholdID" dataType="Integer" isPrimary="True"/>
                  <column name="ScenarioID" dataType="Integer"/>
                  <column name="TransitionGroupID" dataType="Integer" displayName="Transition Group" validationType="DataSheet" formula1="STSim_TransitionGroup" allowDbNull="False"/>
                  <column name="StratumID" dataType="Integer" displayName="Stratum" validationType="DataSheet" formula1="STSim_Stratum" isOptional="True" displayNameSource="STSim_Terminology" displayNameColumn="PrimaryStratumLabel"/>
                  <column name="SecondaryStratumID" dataType="Integer" displayName="Secondary Stratum" validationType="DataSheet" formula1="STSim_SecondaryStratum" isOptional="True" displayNameSource="STSim_Terminology" displayNameColumn="SecondaryStratumLabel"/>
                  <column name="StateClassID" dataType="Integer" displayName="State Class" validationType="DataSheet" formula1="STSim_StateClass" isOptional="True"/>
                  <column name="Timestep" dataType="Integer" validationType="WholeNumber" validationCondition="GreaterEqual" formula1="0" isOptional="True" displayNameSource="STSim_Terminology" displayNameColumn="TimestepUnits" format="d"/>
                  <column name="AnalysisUnitID" dataType="Integer" displayName="Analysis Unit" validationType="DataSheet" formula1="TPE_AnalysisUnit" allowDbNull="False"/>
                  <column name="FromIndicatorID" dataType="Integer" displayName="From Indicator" validationType="DataSheet" formula1="TPE_Indicator" isOptional="True"/>
                  <column name="FromMinThresholdValue" displayName="From Min Threshold" dataType="Double" validationType="Decimal" isOptional="True"/>
                  <column name="FromMaxThresholdValue" displayName="From Max Threshold" dataType="Double" validationType="Decimal" isOptional="True"/>
                  <column name="FromTimestep" dataType="Integer" displayName="From Timestep" validationType="WholeNumber" validationCondition="GreaterEqual" formula1="0" isOptional="True" format="d"/>
                  <column name="ToIndicatorID" dataType="Integer" displayName="To Indicator" validationType="DataSheet" formula1="TPE_Indicator" allowDbNull="False"/>
                  <column name="ToMinThresholdValue" displayName="To Min Threshold" dataType="Double" validationType="Decimal" isOptional="True"/>
                  <column name="ToMaxThresholdValue" displayName="To Max Threshold" dataType="Double" validationType="Decimal" isOptional="True"/>
                  <column name="ToTimestep" dataType="Integer" displayName="To Timestep" validationType="WholeNumber" validationCondition="GreaterEqual" formula1="0" allowDbNull="False" format="d"/>
                </columns>
              </dataSheet>
            </dataSheets>
          </dataFeed>
        </dataFeeds>
      </transformer>
      <transformer name="tpe-add-on-transformer" displayName="Transition Probability Estimator" isAddOn="True" extendsModel="stsim-model-transformer" extendsTransformer="stsim-core-transformer">
        <modelRunTransformers>
          <transformer name="tpe-core-transformer"/>
        </modelRunTransformers>
        <layouts>
          <layout name ="ProjectDataFeeds" appendTo="Transitions">
            <group name="Transition Probability Estimator">
              <item name="tpe-analysis-unit-datafeed"/>
              <item name="tpe-indicator-datafeed"/>
            </group>
          </layout>
          <layout name="ScenarioDataFeeds" appendTo="Advanced">
            <group name="Transition Probability Estimator">
              <item name="tpe-indicator-time-series-datafeed"/>
              <item name="tpe-transition-threshold-datafeed"/>
            </group>
          </layout>
        </layouts>
      </transformer>
    </transformers>
  </module>
</configuration>

